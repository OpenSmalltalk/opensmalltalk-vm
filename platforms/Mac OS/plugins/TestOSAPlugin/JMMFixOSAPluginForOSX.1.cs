'From Squeak3.8 of ''5 May 2005'' [latest update: #6665] on 31 October 2005 at 3:33:15 pm'!!TestOSAPlugin methodsFor: 'OSA prims' stamp: 'JMM 10/31/2005 11:59'!primOSADoScript: source in: context mode: mode resultType: type to: result	|component resultsOfCall giLocker |	component := self primitive: 	'primOSADoScript'					parameters: #(AEDesc OSAID SmallInteger DescType AEDesc)					receiver:	#ComponentInstance.	self cCode: '        giLocker = interpreterProxy->ioLoadFunctionFrom("getUIToLock", "");        if (giLocker !!= 0) {            long *foo;            foo = malloc(sizeof(long)*9);            foo[0] = 6;            foo[1] = OSADoScript;            foo[2] = *component;            foo[3] = source;            foo[4] = *context;            foo[5] = *type;            foo[6] = mode;            foo[7] = result;            foo[8] = 0;            ((int (*) (void *)) giLocker)(foo);            resultsOfCall = interpreterProxy->positive32BitIntegerFor(foo[8]);            free(foo);}'			inSmalltalk: [[component. giLocker].  resultsOfCall := -1].	^resultsOfCall asOop: Unsigned! !!TestOSAPlugin methodsFor: 'OSA prims' stamp: 'JMM 10/31/2005 11:59'!primOSAExecute: script in: context mode: mode to: result	|component giLocker resultsOfCall |	component := self primitive: 	'primOSAExecute'					parameters: #(OSAID OSAID SmallInteger OSAID)					receiver:	#ComponentInstance.	self cCode: '         giLocker = interpreterProxy->ioLoadFunctionFrom("getUIToLock", "");         if (giLocker !!= 0) {            long *foo;            foo = malloc(sizeof(long)*8);            foo[0] = 5;            foo[1] = OSAExecute;            foo[2] = *component;            foo[3] = *script;            foo[4] = *context;            foo[5] = mode;            foo[6] = result;            foo[7] = 0;            ((int (*) (void *)) giLocker)(foo);            resultsOfCall = interpreterProxy->positive32BitIntegerFor(foo[7]);            free(foo); }'			inSmalltalk: [[component. giLocker]. resultsOfCall _ -1].	^resultsOfCall asOop: Unsigned! !