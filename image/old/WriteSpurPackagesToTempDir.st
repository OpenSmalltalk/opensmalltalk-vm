| dir tempRepo trunkRepo |dir := FileDirectory default directoryNamed: 'temp-v3-repository'.dir assureExistence.tempRepo := MCDirectoryRepository path: dir fullName.trunkRepo := MCRepositoryGroup default repositories  detect:[:r| r description = 'http://source.squeak.org/trunk'].#('Collections' 'Compiler' 'Kernel' 'System') do:	[:package| | currentVersion |	currentVersion := (MCPackage named: package) workingCopy ancestry ancestors first versionName.	tempRepo storeVersion: (trunkRepo versionNamed: currentVersion, '.mcz')].Smalltalk snapshot: false andQuit: true